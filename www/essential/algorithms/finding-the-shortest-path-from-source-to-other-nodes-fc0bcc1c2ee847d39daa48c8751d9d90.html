<!doctype html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="referrer" content="always">

  <meta name="twitter:card" value="summary">
  <meta name="twitter:site" content="@kjk">
  <meta name="twitter:title" content="Finding the Shortest Path from Source to other Nodes">
  
  <meta name="twitter:description" content="Finding the Shortest Path from Source to other Nodes">
  <meta name="twitter:creator" content="@kjk">
  <meta name="twitter:image" content="https://www.programming-books.io/covers/twitter/Algorithms.png">
  
  <meta property="og:title" content="Finding the Shortest Path from Source to other Nodes">
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://www.programming-books.io/essential/algorithms/finding-the-shortest-path-from-source-to-other-nodes-fc0bcc1c2ee847d39daa48c8751d9d90" />
  
  <meta property="og:description" content="Finding the Shortest Path from Source to other Nodes">
  <meta property="og:image" content="https://www.programming-books.io/covers/twitter/Algorithms.png">

  <title>Breadth-First Search / Finding the Shortest Path from Source to other Nodes / Essential Algorithms</title>
  <meta name="description" content="Breadth-First Search / Finding the Shortest Path from Source to other Nodes / Essential Algorithms">
  <link rel="icon" href="/s/favicon.ico">
  <link href="/s/main.css" rel="stylesheet">
  <link href="/s/bundle.css" rel="stylesheet">
  <script src="/s/app-algorithms.js" defer></script>
  <script src="/s/bundle.js" defer></script>
</head>

<body class="page">
  <script>
  function onLoad() {
    gBookTitle = "Essential Algorithms";

    httpsMaybeRedirect();

    let opts = {
      target: document.getElementById("toc"),
      props: {
        parentIdx: -1,
        level: 0,
      },
    };
    new app.toc(opts);

    opts = {
      target: document.getElementById("search-parent"),
      props: {
        bookTitle: gBookTitle,
      },
    };
    new app.searchInput(opts);

    opts = {
      target: document.getElementById("page-toc"),
    };
    new app.pageToc(opts);

    opts = {
      target: document.getElementById("book-toc"),
    };
    new app.bookToc(opts);
  }
  document.addEventListener('DOMContentLoaded', onLoad);
</script>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="arrow-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M11 10H5.344L11 4.414V10z" />
  </symbol>

  <symbol id="arrow-not-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M6 4v8l4-4-4-4zm1 2.414L8.586 8 7 9.586V6.414z" />
  </symbol>

  <symbol id="icon-github" viewbox="0 0 496 512">
    <path
      d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" />
  </symbol>

  <symbol id="icon-home" viewbox="0 0 576 512">
    <path
      d="M488 312.7V456c0 13.3-10.7 24-24 24H348c-6.6 0-12-5.4-12-12V356c0-6.6-5.4-12-12-12h-72c-6.6 0-12 5.4-12 12v112c0 6.6-5.4 12-12 12H112c-13.3 0-24-10.7-24-24V312.7c0-3.6 1.6-7 4.4-9.3l188-154.8c4.4-3.6 10.8-3.6 15.3 0l188 154.8c2.7 2.3 4.3 5.7 4.3 9.3zm83.6-60.9L488 182.9V44.4c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12V117l-89.5-73.7c-17.7-14.6-43.3-14.6-61 0L4.4 251.8c-5.1 4.2-5.8 11.8-1.6 16.9l25.5 31c4.2 5.1 11.8 5.8 16.9 1.6l235.2-193.7c4.4-3.6 10.8-3.6 15.3 0l235.2 193.7c5.1 4.2 12.7 3.5 16.9-1.6l25.5-31c4.2-5.2 3.4-12.7-1.7-16.9z" />
  </symbol>

  <symbol id="icon-twitter" viewbox="0 0 512 512">
    <path
      d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" />
  </symbol>

  <symbol id="icon-edit" viewbox="0 0 576 512">
    <path
      d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z" />
  </symbol>

  <symbol id="icon-star" viewbox="0 0 576 512">
    <path
      d="M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z" />
  </symbol>
</svg>
  <header class="page__header">
  <div class="page__header__left">
    <a id="link-home" href="index.html">
      <svg class="icon-home">
        <use xlink:href="#icon-home"></use>
      </svg>
      &nbsp;Essential Algorithms</a>
  </div>
  <div class="page__header__center" id="search-parent">
  </div>
  <div class="page__header__right">
  </div>
</header>

  <div id="toc"></div>

  <div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">Finding the Shortest Path from Source to other Nodes</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/fc0bcc1c2ee847d39daa48c8751d9d90" rel="nofollow"
  target="_blank">suggest change</a>
</div>


      
<p><a href="https://en.wikipedia.org/wiki/Breadth-first_search">Breadth-first-search</a> (BFS) is an algorithm for traversing or searching tree or graph data structures. It starts at the tree root (or some arbitrary node of a graph, sometimes referred to as a ‘search key’) and explores the neighbor nodes first, before moving to the next level neighbors. BFS was invented in the late 1950s by <a href="https://en.wikipedia.org/wiki/Edward_F._Moore">Edward Forrest Moore</a>, who used it to find the shortest path out of a maze and discovered independently by C. Y. Lee as a wire routing algorithm in 1961.
</p>
<p>The processes of BFS algorithm works under these assumptions:
</p>
  <ol id="6f94e2ab-8f10-4511-870e-d86ca4730bfa" class="numbered-list" start="1">
    <li>We won’t traverse any node more than once.
    </li>
    <li>Source node or the node that we’re starting from is situated in level 0.
    </li>
    <li>The nodes we can directly reach from source node are level 1 nodes, the nodes we can directly reach from level 1 nodes are level 2 nodes and so on.
    </li>
    <li>The level denotes the distance of the shortest path from the source.
    </li>
  </ol>
<p>Let’s see an example:
</p>
<img class="img" src="/essential/algorithms/img/a582a5eadb0d92226a27c7ec891c1aeadc3e1e3d.png">
<p>Let’s assume this graph represents connection between multiple cities, where each node denotes a city and an edge between two nodes denote there is a road linking them. We want to go from <strong>node 1</strong> to <strong>node 10</strong>. So <strong>node 1</strong> is our <strong>source</strong>, which is <strong>level 0</strong>. We mark <strong>node 1</strong> as visited. We can go to <strong>node 2</strong>, <strong>node 3</strong> and <strong>node 4</strong> from here. So they’ll be <strong>level (0+1)</strong> = <strong>level 1</strong> nodes. Now we’ll mark them as visited and work with them.
</p>
<img class="img" src="/essential/algorithms/img/4af8f77df4510810dcabea125833f37d8b575586.png">
<p>The colored nodes are visited. The nodes that we’re currently working with will be marked with pink. We won’t visit the same node twice. From <strong>node 2</strong>, <strong>node 3</strong> and <strong>node 4</strong>, we can go to <strong>node 6,</strong> <strong>node 7</strong> and <strong>node 8</strong>. Let’s mark them as visited. The level of these nodes will be <strong>level (1+1)</strong> = <strong>level 2</strong>.
</p>
<img class="img" src="/essential/algorithms/img/c78f0c193414de5316823f835b26a50576876684.png">
<p>If you haven’t noticed, the level of nodes simply denote the shortest path distance from the <strong>source</strong>. For example: we’ve found <strong>node 8</strong> on <strong>level 2</strong>. So the distance from <strong>source</strong> to <strong>node 8</strong> is <strong>2</strong>.
</p>
<p>We didn’t yet reach our target node, that is <strong>node 10</strong>. So let’s visit the next nodes. we can directly go to from <strong>node 6</strong>, <strong>node 7</strong> and <strong>node 8</strong>.
</p>
<img class="img" src="/essential/algorithms/img/6a69fd9dfcde111afb45079d13e755caece50619.png">
<p>We can see that, we found <strong>node 10</strong> at <strong>level 3</strong>. So the shortest path from <strong>source</strong> to <strong>node 10</strong> is <strong>3.</strong> We searched the graph level by level and found the shortest path. Now let’s erase the edges that we didn’t use:
</p>
<img class="img" src="/essential/algorithms/img/94c5ec9220d6b7f3620e688bac439beb54d675dd.png">
<p>After removing the edges that we didn’t use, we get a tree called BFS tree. This tree shows the shortest path from <strong>source</strong> to all other nodes.
</p>
<p>So our task will be, to go from <strong>source</strong> to <strong>level 1</strong> nodes. Then from <strong>level 1</strong> to <strong>level 2</strong> nodes and so on until we reach our destination. We can use <em>queue</em> to store the nodes that we are going to process. That is, for each node we’re going to work with, we’ll push all other nodes that can be directly traversed and not yet traversed in the queue.
</p>
<p>The simulation of our example:
</p>
<p>First we push the source in the queue. Our queue will look like:
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">front
+-----+
|  1  |
+-----+</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>The level of <strong>node 1</strong> will be 0. <strong>level[1]</strong> = <strong>0</strong>. Now we start our BFS. At first, we pop a node from our queue. We get <strong>node 1</strong>. We can go to <strong>node 4</strong>, <strong>node 3</strong> and <strong>node 2</strong> from this one. We’ve reached these nodes from <strong>node 1</strong>. So <strong>level[4]</strong> = <strong>level[3]</strong> = <strong>level[2]</strong> = <strong>level[1]</strong> + <strong>1</strong> = <strong>1</strong>. Now we mark them as visited and push them in the queue.
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">front
+-----+  +-----+  +-----+
|  2  |  |  3  |  |  4  |
+-----+  +-----+  +-----+</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>Now we pop <strong>node 4</strong> and work with it. We can go to <strong>node 7</strong> from <strong>node 4</strong>. <strong>level[7]</strong> = <strong>level[4]</strong> + <strong>1</strong> = <strong>2</strong>. We mark <strong>node 7</strong> as visited and push it in the queue.
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">front
+-----+  +-----+  +-----+
|  7  |  |  2  |  |  3  |
+-----+  +-----+  +-----+</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>From <strong>node 3</strong>, we can go to <strong>node 7</strong> and <strong>node 8</strong>. Since we’ve already marked <strong>node 7</strong> as visited, we mark <strong>node 8</strong> as visited, we change <strong>level[8]</strong> = <strong>level[3]</strong> + <strong>1</strong> = <strong>2</strong>. We push <strong>node 8</strong> in the queue.
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">front
+-----+  +-----+  +-----+
|  6  |  |  7  |  |  2  |
+-----+  +-----+  +-----+</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>This process will continue till we reach our destination or the queue becomes empty. The <strong>level</strong> array will provide us with the distance of the shortest path from <strong>source</strong>. We can initialize <strong>level</strong> array with <em>infinity</em> value, which will mark that the nodes are not yet visited. Our pseudo-code will be:
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">Procedure BFS(Graph, source):
Q = queue();
level[] = infinity
level[source] := 0
Q.push(source)
while Q is not empty
    u -&gt; Q.pop()
    for all edges from u to v in Adjacency list
        if level[v] == infinity
            level[v] := level[u] + 1
            Q.push(v)
        end if
    end for
end while
Return level</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>By iterating through the <strong>level</strong> array, we can find out the distance of each node from source. For example: the distance of <strong>node 10</strong> from <strong>source</strong> will be stored in <strong>level[10]</strong>.
</p>
<p>Sometimes we might need to print not only the shortest distance, but also the path via which we can go to our destined node from the <strong>source</strong>. For this we need to keep a <strong>parent</strong> array. <strong>parent[source]</strong> will be NULL. For each update in <strong>level</strong> array, we’ll simply add <code>parent[v] := u</code> in our pseudo code inside the for loop. After finishing BFS, to find the path, we’ll traverse back the <strong>parent</strong> array until we reach <strong>source</strong> which will be denoted by NULL value. The pseudo-code will be:
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">Procedure PrintPath(u):  //recursive    |   Procedure PrintPath(u):   //iterative
if parent[u] is not equal to null       |   S =  Stack()
    PrintPath(parent[u])                |   while parent[u] is not equal to null    
end if                                  |       S.push(u)
print -&gt; u                              |       u := parent[u]
                                        |   end while
                                        |   while S is not empty
                                        |       print -&gt; S.pop
                                        |   end while</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p><strong>Complexity:</strong>
</p>
<p>We’ve visited every node once and every edges once. So the complexity will be <strong>O(V + E)</strong> where <strong>V</strong> is the number of nodes and <strong>E</strong> is the number of edges.
</p>

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    <div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly />
  </p>

  <p>
    <div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email" />
    <input type="text" name="_honey" style="display:none">
  </p>

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>

  <p>
    <div data-netlify-recaptcha></div>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"></div>

    <div id="chapter-toc-wrapper">
      <hr />
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"></div>
    </div>
  </div>

  <footer class="page__footer">
  <div class="page__footer__left">
    Maintained by
    <a href="https://blog.kowalczyk.info" target="_blank">Krzysztof Kowalczyk</a>
  </div>
  <div class="share-me">
    <a href="https://twitter.com/intent/tweet?text=%22Essential%20Algorithms%22%20-%20a%20free%20programming%20book&url=https%3a%2f%2fwww.programming-books.io%2fessential%2falgorithms%2f&via=kjk">Share
      <b>Essential Algorithms</b> on&nbsp;
      <svg class="icon-twitter">
        <use xlink:href="#icon-twitter"></use>
      </svg>
    </a>
  </div>
  <div class="page__footer__right">
    
  </div>
</footer>

  

</body>

</html>