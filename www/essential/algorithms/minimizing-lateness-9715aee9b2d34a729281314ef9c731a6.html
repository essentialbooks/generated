<!doctype html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="referrer" content="always">

  <meta name="twitter:card" value="summary">
  <meta name="twitter:site" content="@kjk">
  <meta name="twitter:title" content="Minimizing Lateness">
  
  <meta name="twitter:description" content="Minimizing Lateness">
  <meta name="twitter:creator" content="@kjk">
  <meta name="twitter:image" content="https://www.programming-books.io/covers/twitter/Algorithms.png">
  
  <meta property="og:title" content="Minimizing Lateness">
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://www.programming-books.io/essential/algorithms/minimizing-lateness-9715aee9b2d34a729281314ef9c731a6" />
  
  <meta property="og:description" content="Minimizing Lateness">
  <meta property="og:image" content="https://www.programming-books.io/covers/twitter/Algorithms.png">

  <title>Application of greedy techniqe / Minimizing Lateness / Essential Algorithms</title>
  <meta name="description" content="Application of greedy techniqe / Minimizing Lateness / Essential Algorithms">
  <link rel="icon" href="/s/favicon.ico">
  <link href="/s/main.css" rel="stylesheet">
  <link href="/s/bundle.css" rel="stylesheet">
  <script src="/s/app-algorithms.js" defer></script>
  <script src="/s/bundle.js" defer></script>
</head>

<body class="page">
  <script>
  function onLoad() {
    gBookTitle = "Essential Algorithms";

    httpsMaybeRedirect();

    let opts = {
      target: document.getElementById("toc"),
      props: {
        parentIdx: -1,
        level: 0,
      },
    };
    new app.toc(opts);

    opts = {
      target: document.getElementById("search-parent"),
      props: {
        bookTitle: gBookTitle,
      },
    };
    new app.searchInput(opts);

    opts = {
      target: document.getElementById("page-toc"),
    };
    new app.pageToc(opts);

    opts = {
      target: document.getElementById("book-toc"),
    };
    new app.bookToc(opts);
  }
  document.addEventListener('DOMContentLoaded', onLoad);
</script>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="arrow-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M11 10H5.344L11 4.414V10z" />
  </symbol>

  <symbol id="arrow-not-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M6 4v8l4-4-4-4zm1 2.414L8.586 8 7 9.586V6.414z" />
  </symbol>

  <symbol id="icon-github" viewbox="0 0 496 512">
    <path
      d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" />
  </symbol>

  <symbol id="icon-home" viewbox="0 0 576 512">
    <path
      d="M488 312.7V456c0 13.3-10.7 24-24 24H348c-6.6 0-12-5.4-12-12V356c0-6.6-5.4-12-12-12h-72c-6.6 0-12 5.4-12 12v112c0 6.6-5.4 12-12 12H112c-13.3 0-24-10.7-24-24V312.7c0-3.6 1.6-7 4.4-9.3l188-154.8c4.4-3.6 10.8-3.6 15.3 0l188 154.8c2.7 2.3 4.3 5.7 4.3 9.3zm83.6-60.9L488 182.9V44.4c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12V117l-89.5-73.7c-17.7-14.6-43.3-14.6-61 0L4.4 251.8c-5.1 4.2-5.8 11.8-1.6 16.9l25.5 31c4.2 5.1 11.8 5.8 16.9 1.6l235.2-193.7c4.4-3.6 10.8-3.6 15.3 0l235.2 193.7c5.1 4.2 12.7 3.5 16.9-1.6l25.5-31c4.2-5.2 3.4-12.7-1.7-16.9z" />
  </symbol>

  <symbol id="icon-twitter" viewbox="0 0 512 512">
    <path
      d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" />
  </symbol>

  <symbol id="icon-edit" viewbox="0 0 576 512">
    <path
      d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z" />
  </symbol>

  <symbol id="icon-star" viewbox="0 0 576 512">
    <path
      d="M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z" />
  </symbol>
</svg>
  <header class="page__header">
  <div class="page__header__left">
    <a id="link-home" href="index.html">
      <svg class="icon-home">
        <use xlink:href="#icon-home"></use>
      </svg>
      &nbsp;Essential Algorithms</a>
  </div>
  <div class="page__header__center" id="search-parent">
  </div>
  <div class="page__header__right">
  </div>
</header>

  <div id="toc"></div>

  <div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">Minimizing Lateness</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/9715aee9b2d34a729281314ef9c731a6" rel="nofollow"
  target="_blank">suggest change</a>
</div>


      <p>There are numerous problems minimizing lateness, here we have a single resource which can only process one job at a time. Job <code>j</code> requires <code>tj</code> units of processing time and is due at time <code>dj</code>. if <code>j</code> starts at time <code>sj</code> it will finish at time <code>fj=sj+tj</code>. We define lateness <code>L=max{0,fj-dh}</code> for all <code>j</code>. The goal is to minimize the <strong>maximum lateness</strong> L.</p><p>| 1 | 2 | 3 | 4 | 5 | 6 |</p><p>|:—:|:-:|:-:|:-:|:-:|:–:|:–:| | <code>tj</code>| 3 | 2 | 1 | 4 | 3 | 2 | | <code>dj</code>| 6 | 8 | 9 | 9 | 10 | 11 |</p><p>|Job | 3 | 2 | 2 | 5 | 5 | 5 | 4 | 4 | 4 | 4 | 1 | 1 | 1 | 6 | 6 | |:-: |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:—:|:-:|:-:| | Time | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |11 |12 |13 |14 |15 | | <code>Lj</code> |-8 | |-5 | | |-4 | | | | 1 | | |<strong>7</strong>| | 4 |</p><p>The solution <code>L=7</code> is obviously not optimal. Lets look at some greedy strategies:</p><ol id="b085b221-aaba-4053-868e-1058d0f72b0f" class="numbered-list" start="1"><li><strong>Shortest processing time first</strong>: schedule jobs in ascending order og processing time j`</li><li><strong>Earliest deadline first</strong>: Schedule jobs in ascending order of deadline <code>dj</code></li><li><strong>Smallest slack</strong>: schedule jobs in ascending order of slack <code>dj-tj</code></li></ol><p>Its easy to see that <strong>shortest processing time first</strong> is not optimal a good counter example is</p><p>| 1 | 2 |</p><p>|:—:|:-:|:-:| | <code>tj</code>| 1 | 5 | | <code>dj</code>|10 | 5 |</p><p>the <strong>smallest stack</strong> solution has simillar problems</p><p>| 1 | 2 |</p><p>|:—:|:-:|:-:| | <code>tj</code>| 1 | 5 | | <code>dj</code>| 3 | 5 |</p><p>the last strategy looks valid so we start with some pseudo code:</p><ol id="14c396a5-c6f3-446b-b188-2f97706a2a57" class="numbered-list" start="1"><li>Sort <code>n</code> jobs by due time so that <code>d1&lt;=d2&lt;=...&lt;=dn</code></li><li>Set <code>t=0</code></li><li>for <code>j=1</code> to <code>n</code></li></ol>
<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">- Assign job `j` to interval `[t,t+tj]`
- set `sj=t` and `fj=t+tj`
- set `t=t+tj`</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div><ol id="135105d5-2529-4a76-ad11-7df6dd7ed488" class="numbered-list" start="1"><li>return intervals <code>[s1,f1],[s2,f2],...,[sn,fn]</code></li></ol><p>And as implementation in C++:</p>
<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

const int jobCnt = 10;

// Job start times
const int processTimes[] = { 2, 3, 1, 4, 3, 2, 3, 5, 2, 1};

// Job end times
const int dueTimes[]     = { 4, 7, 9, 13, 8, 17, 9, 11, 22, 25};

using namespace std;

int main()
{
    vector&lt;pair&lt;int,int&gt;&gt; jobs;
    
    for(int i=0; i&lt;jobCnt; ++i)
        jobs.push_back(make_pair(processTimes[i], dueTimes[i]));
    
    // step 1: sort
    sort(jobs.begin(), jobs.end(),[](pair&lt;int,int&gt; p1, pair&lt;int,int&gt; p2)
                                    { return p1.second &lt; p2.second; });
    
    // step 2: set t=0
    int t = 0;
    
    // step 3:
    vector&lt;pair&lt;int,int&gt;&gt; jobIntervals;
    
    for(int i=0; i&lt;jobCnt; ++i)
    {
        jobIntervals.push_back(make_pair(t,t+jobs[i].first));
        t += jobs[i].first;
    }
            
    //step 4: print intervals
    cout &lt;&lt; &#34;Intervals:\n&#34; &lt;&lt; endl;
    
    int lateness = 0;
    
    for(int i=0; i&lt;jobCnt; ++i)
    {
        auto pair = jobIntervals[i];
        
        lateness = max(lateness, pair.second-jobs[i].second);

        cout &lt;&lt; &#34;(&#34; &lt;&lt; pair.first &lt;&lt; &#34;,&#34; &lt;&lt; pair.second &lt;&lt; &#34;) &#34;
             &lt;&lt; &#34;Lateness: &#34; &lt;&lt; pair.second-jobs[i].second &lt;&lt; std::endl;
    }
    
    cout &lt;&lt; &#34;\nmaximal lateness is &#34; &lt;&lt; lateness &lt;&lt; endl;
    
    return 0;
}</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div><p>And the output for this program is:</p>
<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">Intervals:

(0,2)   Lateness:-2
(2,5)   Lateness:-2
(5,8)   Lateness: 0
(8,9)   Lateness: 0
(9,12)  Lateness: 3
(12,17) Lateness: 6
(17,21) Lateness: 8
(21,23) Lateness: 6
(23,25) Lateness: 3
(25,26) Lateness: 1

maximal lateness is 8</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div><hr id="e340291c-014e-403d-b1aa-e3fe4cdc7086"/><p>The runtime of the algorithm is obviously Θ(n log n) because sorting is the dominating operation of this algorithm. Now we need to show that it is optimal. Clearly an optimal schedule has no <strong>idle time</strong>. the <strong>earliest deadline first</strong> schedule has also no idle time.</p><p>Lets assume the jobs are numbered so that <code>d1&lt;=d2&lt;=...&lt;=dn</code>. We say a <strong>inversion</strong> of a schedule is a pair of jobs <code>i</code> and <code>j</code> so that <code>i&lt;j</code> but j is scheduled before <code>i</code>. Due to its definition the <strong>earliest deadline first</strong> schedule has no inversions. Of course if a schedule has an inversion it has one with a pair of inverted jobs scheduled consecutively.</p><p><strong>Proposition:</strong> Swapping two adjacent, inverted jobs reduces the number of inversions by <strong>one</strong> and <strong>does not increase</strong> the maximal lateness.</p><p><strong>Proof:</strong> Let <code>L</code> be the lateness before the swap and <code>M</code> the lateness afterwards. Because exchanging two adjacent jobs does not move the other jobs from their position it is <code>Lk=Mk</code> for all <code>k != i,j</code>.</p><p>Clearly it is <code>Mi&lt;=Li</code> since job <code>i</code> got scheduled earlier. if job <code>j</code> is late, so follows from the definition:</p>
<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">Mj = fi-dj    (definition)
  &lt;= fi-di    (since i and j are exchanged)
  &lt;= Li</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div><p>That means the lateness after swap is less or equal than before. This concludes the proof.</p><hr id="dcaabd85-bcc7-4ead-aaee-45a3fdb63872"/><p><strong>Proposition:</strong> The <strong>earliest deadline first</strong> schedule <code>S</code> is optimal.</p><p><strong>Proof:</strong><em>(by contradiction)</em></p><p>Lets assume <code>S*</code> is optimal schedule with the <strong>fewest possible</strong> number of inversions. we can assume that <code>S*</code> has no idle time. If <code>S*</code> has no inversions, then <code>S=S*</code> and we are done. If <code>S*</code> has an inversion, than it has an adjacent inversion. The last Proposition states that we can swap the adjacent inversion without increasing lateness but with decreasing the number of inversions. This contradicts the definition of <code>S*</code>.</p><hr id="2d4861a0-987d-4197-b12f-881281238e6d"/><p>The minimizing lateness problem and its near related <strong>minimum makespan</strong> problem, where the question for a minimal schedule is asked have lots of applications in the real world. But usually you don’t have only one machine but many and they handle the same task at different rates. These problems get NP-complete really fast.</p><p>Another interesting question arises if we don’t look at the <strong>offline</strong> problem, where we have all tasks and data at hand but at the <strong>online</strong> variant, where tasks appear during execution.</p>

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    <div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly />
  </p>

  <p>
    <div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email" />
    <input type="text" name="_honey" style="display:none">
  </p>

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>

  <p>
    <div data-netlify-recaptcha></div>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"></div>

    <div id="chapter-toc-wrapper">
      <hr />
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"></div>
    </div>
  </div>

  <footer class="page__footer">
  <div class="page__footer__left">
    Maintained by
    <a href="https://blog.kowalczyk.info" target="_blank">Krzysztof Kowalczyk</a>
  </div>
  <div class="share-me">
    <a href="https://twitter.com/intent/tweet?text=%22Essential%20Algorithms%22%20-%20a%20free%20programming%20book&url=https%3a%2f%2fwww.programming-books.io%2fessential%2falgorithms%2f&via=kjk">Share
      <b>Essential Algorithms</b> on&nbsp;
      <svg class="icon-twitter">
        <use xlink:href="#icon-twitter"></use>
      </svg>
    </a>
  </div>
  <div class="page__footer__right">
    
  </div>
</footer>

  

</body>

</html>