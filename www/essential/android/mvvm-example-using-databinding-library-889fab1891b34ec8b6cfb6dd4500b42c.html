<!doctype html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="referrer" content="always">

  <meta name="twitter:card" value="summary">
  <meta name="twitter:site" content="@kjk">
  <meta name="twitter:title" content="MVVM Example using DataBinding Library">
  
  <meta name="twitter:description" content="MVVM Example using DataBinding Library">
  <meta name="twitter:creator" content="@kjk">
  <meta name="twitter:image" content="/essential/android/covers/twitter/Android.png">
  
  <meta property="og:title" content="MVVM Example using DataBinding Library">
  <meta property="og:type" content="article" />
  <meta property="og:url" content="/essential/android/mvvm-example-using-databinding-library-889fab1891b34ec8b6cfb6dd4500b42c" />
  
  <meta property="og:description" content="MVVM Example using DataBinding Library">
  <meta property="og:image" content="/essential/android/covers/twitter/Android.png">

  <title>MVVM Architecture / MVVM Example using DataBinding Library / Essential Android</title>
  <meta name="description" content="MVVM Architecture / MVVM Example using DataBinding Library / Essential Android">
  <link rel="icon" href="/s/favicon.ico">
  <link href="/s/main.css" rel="stylesheet">
  <link href="/s/bundle.css" rel="stylesheet">
  <script src="/s/app-android.js" defer></script>
  <script src="/s/bundle.js" defer></script>
</head>

<body class="page">
  <script>
  function onLoad() {
    gBookTitle = "Essential Android";

    httpsMaybeRedirect();

    let opts = {
      target: document.getElementById("toc"),
      props: {
        parentIdx: -1,
        level: 0,
      },
    };
    new app.toc(opts);

    opts = {
      target: document.getElementById("search-parent"),
      props: {
        bookTitle: gBookTitle,
      },
    };
    new app.searchInput(opts);

    opts = {
      target: document.getElementById("page-toc"),
    };
    new app.pageToc(opts);

    opts = {
      target: document.getElementById("book-toc"),
    };
    new app.bookToc(opts);
  }
  document.addEventListener('DOMContentLoaded', onLoad);
</script>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="arrow-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M11 10H5.344L11 4.414V10z" />
  </symbol>

  <symbol id="arrow-not-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M6 4v8l4-4-4-4zm1 2.414L8.586 8 7 9.586V6.414z" />
  </symbol>

  <symbol id="icon-github" viewbox="0 0 496 512">
    <path
      d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" />
  </symbol>

  <symbol id="icon-home" viewbox="0 0 576 512">
    <path
      d="M488 312.7V456c0 13.3-10.7 24-24 24H348c-6.6 0-12-5.4-12-12V356c0-6.6-5.4-12-12-12h-72c-6.6 0-12 5.4-12 12v112c0 6.6-5.4 12-12 12H112c-13.3 0-24-10.7-24-24V312.7c0-3.6 1.6-7 4.4-9.3l188-154.8c4.4-3.6 10.8-3.6 15.3 0l188 154.8c2.7 2.3 4.3 5.7 4.3 9.3zm83.6-60.9L488 182.9V44.4c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12V117l-89.5-73.7c-17.7-14.6-43.3-14.6-61 0L4.4 251.8c-5.1 4.2-5.8 11.8-1.6 16.9l25.5 31c4.2 5.1 11.8 5.8 16.9 1.6l235.2-193.7c4.4-3.6 10.8-3.6 15.3 0l235.2 193.7c5.1 4.2 12.7 3.5 16.9-1.6l25.5-31c4.2-5.2 3.4-12.7-1.7-16.9z" />
  </symbol>

  <symbol id="icon-twitter" viewbox="0 0 512 512">
    <path
      d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" />
  </symbol>

  <symbol id="icon-edit" viewbox="0 0 576 512">
    <path
      d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z" />
  </symbol>

  <symbol id="icon-star" viewbox="0 0 576 512">
    <path
      d="M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z" />
  </symbol>
</svg>
  <header class="page__header">
  <div class="page__header__left">
    <a id="link-home" href="index.html">
      <svg class="icon-home">
        <use xlink:href="#icon-home"></use>
      </svg>
      &nbsp;Essential Android</a>
  </div>
  <div class="page__header__center" id="search-parent">
  </div>
  <div class="page__header__right">
  </div>
</header>

  <div id="toc"></div>

  <div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">MVVM Example using DataBinding Library</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/889fab1891b34ec8b6cfb6dd4500b42c" rel="nofollow"
  target="_blank">suggest change</a>
</div>


      <p>The whole point of MVVM is to separate layers containing logic from the view layer.</p><p>On Android we can use the <a href="https://developer.android.com/topic/libraries/data-binding/index.html">DataBinding Library</a> to help us with this and make most of our logic Unit-testable without worrying about Android dependencies.</p><p>In this example I’ll show the central components for a stupid simple App that does the following:</p><ul id="e0821ad3-89fc-4372-8bbb-21ed3cb1f20c" class="bulleted-list"><li>At start up fake a network call and show a loading spinner</li><li>Show a view with a click counter TextView, a message TextView, and a button to increment the counter</li><li>On button click update counter and update counter color and message text if counter reaches some number</li></ul><p>Let’s start with the view layer:</p><p><code>activity_main.xml</code>:</p><p>If you’re unfamiliar with how DataBinding works you should probably <a href="https://developer.android.com/topic/libraries/data-binding/index.html">take 10 minutes</a> to make yourself familiar with it. As you can see, all fields you would usually update with setters are bound to functions on the viewModel variable.</p><p>If you’ve got a question about the <code>android:visibility</code> or <code>app:textColor</code> properties check the ‘Remarks’ section.</p>
<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">&lt;layout
   xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
   xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;
   xmlns:tools=&#34;http://schemas.android.com/tools&#34;&gt;

   &lt;data&gt;

       &lt;import type=&#34;android.view.View&#34; /&gt;

       &lt;variable
           name=&#34;viewModel&#34;
           type=&#34;de.walled.mvvmtest.viewmodel.ClickerViewModel&#34;/&gt;
   &lt;/data&gt;

   &lt;RelativeLayout
       android:id=&#34;@+id/activity_main&#34;
       android:layout_width=&#34;match_parent&#34;
       android:layout_height=&#34;match_parent&#34;
       android:padding=&#34;@dimen/activity_horizontal_margin&#34;

       tools:context=&#34;de.walled.mvvmtest.view.MainActivity&#34;&gt;

       &lt;LinearLayout
           android:id=&#34;@+id/click_counter&#34;
           android:layout_width=&#34;wrap_content&#34;
           android:layout_height=&#34;wrap_content&#34;
           android:layout_centerHorizontal=&#34;true&#34;
           android:layout_marginTop=&#34;60dp&#34;
           android:visibility=&#34;@{viewModel.contentVisible ? View.VISIBLE : View.GONE}&#34;

           android:padding=&#34;8dp&#34;

           android:orientation=&#34;horizontal&#34;&gt;

           &lt;TextView
               android:id=&#34;@+id/number_of_clicks&#34;
               android:layout_width=&#34;wrap_content&#34;
               android:layout_height=&#34;wrap_content&#34;
               style=&#34;@style/ClickCounter&#34;

               android:text=&#34;@{viewModel.numberOfClicks}&#34;
               android:textAlignment=&#34;center&#34;
               app:textColor=&#34;@{viewModel.counterColor}&#34;

               tools:text=&#34;8&#34;
               tools:textColor=&#34;@color/red&#34;
           /&gt;

           &lt;TextView
               android:id=&#34;@+id/static_label&#34;
               android:layout_width=&#34;wrap_content&#34;
               android:layout_height=&#34;wrap_content&#34;
               android:layout_marginLeft=&#34;4dp&#34;
               android:layout_marginStart=&#34;4dp&#34;
               style=&#34;@style/ClickCounter&#34;

               android:text=&#34;@string/label.clicks&#34;
               app:textColor=&#34;@{viewModel.counterColor}&#34;
               android:textAlignment=&#34;center&#34;

               tools:textColor=&#34;@color/red&#34;
           /&gt;
       &lt;/LinearLayout&gt;

       &lt;TextView
           android:id=&#34;@+id/message&#34;
           android:layout_width=&#34;wrap_content&#34;
           android:layout_height=&#34;wrap_content&#34;
           android:layout_below=&#34;@id/click_counter&#34;
           android:layout_centerHorizontal=&#34;true&#34;
           android:visibility=&#34;@{viewModel.contentVisible ? View.VISIBLE : View.GONE}&#34;

           android:text=&#34;@{viewModel.labelText}&#34;
           android:textAlignment=&#34;center&#34;
           android:textSize=&#34;18sp&#34;

           tools:text=&#34;You&#39;re bad and you should feel bad!&#34;
       /&gt;

       &lt;Button
           android:id=&#34;@+id/clicker&#34;
           android:layout_width=&#34;wrap_content&#34;
           android:layout_height=&#34;wrap_content&#34;
           android:layout_below=&#34;@id/message&#34;
           android:layout_centerHorizontal=&#34;true&#34;
           android:layout_marginTop=&#34;8dp&#34;
           android:visibility=&#34;@{viewModel.contentVisible ? View.VISIBLE : View.GONE}&#34;

           android:padding=&#34;8dp&#34;

           android:text=&#34;@string/label.button&#34;

           android:onClick=&#34;@{() -&gt; viewModel.onClickIncrement()}&#34;
       /&gt;

       &lt;android.support.v4.widget.ContentLoadingProgressBar
           android:layout_width=&#34;wrap_content&#34;
           android:layout_height=&#34;wrap_content&#34;
           android:layout_marginTop=&#34;90dp&#34;
           android:layout_centerHorizontal=&#34;true&#34;
           style=&#34;@android:style/Widget.ProgressBar.Inverse&#34;
           android:visibility=&#34;@{viewModel.loadingVisible ? View.VISIBLE : View.GONE}&#34;

           android:indeterminate=&#34;true&#34;
       /&gt;

   &lt;/RelativeLayout&gt;

&lt;/layout&gt;</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div><p>Next the model layer. Here I have:</p><ul id="47549d9f-56c1-4217-aaa2-a0abc72db3b8" class="bulleted-list"><li>two fields that represent the state of the app</li><li>getters to read the number of clicks and the state of excitement</li><li>a method to increment my click count</li><li>a method to restore some previous state (important for orientation changes)</li></ul><p>Also I define here a ‘state of excitement’ that is dependent on the number of clicks. This will later be used to update color and message on the View.</p><p>It is important to note that there are no assumptions made in the model about how the state might be displayed to the user!</p><p><code>ClickerModel.java</code></p>
<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">import com.google.common.base.Optional;

import de.walled.mvvmtest.viewmodel.ViewState;

public class ClickerModel implements IClickerModel {

    private int numberOfClicks;
    private Excitement stateOfExcitement;

    public void incrementClicks() {
        numberOfClicks += 1;
        updateStateOfExcitement();
    }

    public int getNumberOfClicks() {
        return Optional.fromNullable(numberOfClicks).or(0);
    }

    public Excitement getStateOfExcitement() {
        return Optional.fromNullable(stateOfExcitement).or(Excitement.BOO);
    }

    public void restoreState(ViewState state) {
        numberOfClicks = state.getNumberOfClicks();
        updateStateOfExcitement();
    }

    private void updateStateOfExcitement() {
        if (numberOfClicks &lt; 10) {
            stateOfExcitement = Excitement.BOO;
        } else if (numberOfClicks &lt;= 20) {
            stateOfExcitement = Excitement.MEH;
        } else {
            stateOfExcitement = Excitement.WOOHOO;
        }
    }
}</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div><p>Next the ViewModel.</p><p>This will trigger changes on the model and format data from the model to show them on the view. Note that it is here where we evaluate which GUI representation is appropriate for the state given by the model (<code>resolveCounterColor</code> and <code>resolveLabelText</code>). So we could for example easily implement an <code>UnderachieverClickerModel</code> that has lower thresholds for the state of excitement without touching any code in the viewModel or view.</p><p>Also note that the ViewModel does not hold any references to view objects. All properties are bound via the <code>@Bindable</code> annotations and updated when either <code>notifyChange()</code> (signals all properties need to be updated) or <code>notifyPropertyChanged(BR.propertyName)</code> (signals this properties need to be updated).</p><p><code>ClickerViewModel.java</code></p>
<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">import android.databinding.BaseObservable;

import android.databinding.Bindable;
import android.support.annotation.ColorRes;
import android.support.annotation.StringRes;
    
import com.android.databinding.library.baseAdapters.BR;
    
import de.walled.mvvmtest.R;
import de.walled.mvvmtest.api.IClickerApi;
import de.walled.mvvmtest.model.Excitement;
import de.walled.mvvmtest.model.IClickerModel;
import rx.Observable;

public class ClickerViewModel extends BaseObservable {

    private final IClickerApi api;
    boolean isLoading = false;
    private IClickerModel model;

    public ClickerViewModel(IClickerModel model, IClickerApi api) {
        this.model = model;
        this.api = api;
    }

    public void onClickIncrement() {
        model.incrementClicks();
        notifyChange();
    }

    public ViewState getViewState() {
        ViewState viewState = new ViewState();
        viewState.setNumberOfClicks(model.getNumberOfClicks());
        return viewState;
    }

    public Observable&lt;ViewState&gt; loadData() {
        isLoading = true;
        return api.fetchInitialState()
                .doOnNext(this::initModel)
                .doOnTerminate(() -&gt; {
                    isLoading = false;
                    notifyPropertyChanged(BR.loadingVisible);
                    notifyPropertyChanged(BR.contentVisible);
                });
    }

    public void initFromSavedState(ViewState savedState) {
        initModel(savedState);
    }

    @Bindable
    public String getNumberOfClicks() {
        final int clicks = model.getNumberOfClicks();
        return String.valueOf(clicks);
    }

    @Bindable
    @StringRes
    public int getLabelText() {
        final Excitement stateOfExcitement = model.getStateOfExcitement();
        return resolveLabelText(stateOfExcitement);
    }

    @Bindable
    @ColorRes
    public int getCounterColor() {
        final Excitement stateOfExcitement = model.getStateOfExcitement();
        return resolveCounterColor(stateOfExcitement);
    }

    @Bindable
    public boolean isLoadingVisible() {
        return isLoading;
    }

    @Bindable
    public boolean isContentVisible() {
        return !isLoading;
    }

    private void initModel(final ViewState viewState) {
        model.restoreState(viewState);
        notifyChange();
    }

    @ColorRes
    private int resolveCounterColor(Excitement stateOfExcitement) {
        switch (stateOfExcitement) {
            case MEH:
                return R.color.yellow;
            case WOOHOO:
                return R.color.green;
            default:
                return R.color.red;
        }
    }

    @StringRes
    private int resolveLabelText(Excitement stateOfExcitement) {
        switch (stateOfExcitement) {
            case MEH:
                return R.string.label_indifferent;
            case WOOHOO:
                return R.string.label_excited;
            default:
                return R.string.label_negative;
        }
    }

}</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div><p>Tying it all together in the Activity!</p><p>Here we see the view initializing the viewModel with all dependencies it might need, that have to be instantiated from an android context.</p><p>After the viewModel is initialized it is bound to the xml layout via the DataBindingUtil (Please check ‘Syntax’ section for naming of generated classes).</p><p>Note subscriptions are subscribed to on this layer because we have to handle unsubscribing them when the activity is paused or destroyed to avoid memory leaks and NPEs. Also persisting and reloading of the viewState on OrientationChanges is triggered here</p><p><code>MainActivity.java</code></p>
<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">import android.databinding.DataBindingUtil;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;

import de.walled.mvvmtest.R;
import de.walled.mvvmtest.api.ClickerApi;
import de.walled.mvvmtest.api.IClickerApi;
import de.walled.mvvmtest.databinding.ActivityMainBinding;
import de.walled.mvvmtest.model.ClickerModel;
import de.walled.mvvmtest.viewmodel.ClickerViewModel;
import de.walled.mvvmtest.viewmodel.ViewState;
import rx.Subscription;
import rx.subscriptions.Subscriptions;

public class MainActivity extends AppCompatActivity {

    private static final String KEY_VIEW_STATE = &#34;state.view&#34;;

    private ClickerViewModel viewModel;
    private Subscription fakeLoader = Subscriptions.unsubscribed();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // would usually be injected but I feel Dagger would be out of scope
        final IClickerApi api = new ClickerApi();
        setupViewModel(savedInstanceState, api);

        ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);
        binding.setViewModel(viewModel);
    }

    @Override
    protected void onPause() {
        fakeLoader.unsubscribe();
        super.onPause();
    }

    @Override
    protected void onDestroy() {
        fakeLoader.unsubscribe();
        super.onDestroy();
    }

    @Override
    protected void onSaveInstanceState(Bundle outState) {
        outState.putSerializable(KEY_VIEW_STATE, viewModel.getViewState());
    }

    private void setupViewModel(Bundle savedInstance, IClickerApi api) {
        viewModel = new ClickerViewModel(new ClickerModel(), api);
        final ViewState savedState = getViewStateFromBundle(savedInstance);

        if (savedState == null) {
            fakeLoader = viewModel.loadData().subscribe();
        } else {
            viewModel.initFromSavedState(savedState);
        }
    }

    private ViewState getViewStateFromBundle(Bundle savedInstance) {
        if (savedInstance != null) {
            return (ViewState) savedInstance.getSerializable(KEY_VIEW_STATE);
        }
        return null;
    }
}</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div><p>To see everything in action check out this <a href="https://github.com/danielw93/MVVM-Example">example project</a>.</p>

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    <div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly />
  </p>

  <p>
    <div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email" />
    <input type="text" name="_honey" style="display:none">
  </p>

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>

  <p>
    <div data-netlify-recaptcha></div>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"></div>

    <div id="chapter-toc-wrapper">
      <hr />
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"></div>
    </div>
  </div>

  <footer class="page__footer">
  <div class="page__footer__left">
    Maintained by
    <a href="https://blog.kowalczyk.info" target="_blank">Krzysztof Kowalczyk</a>
  </div>
  <div class="share-me">
    <a href="https://twitter.com/intent/tweet?text=%22Essential%20Android%22%20-%20a%20free%20programming%20book&url=%2fessential%2fandroid%2f&via=kjk">Share
      <b>Essential Android</b> on&nbsp;
      <svg class="icon-twitter">
        <use xlink:href="#icon-twitter"></use>
      </svg>
    </a>
  </div>
  <div class="page__footer__right">
    
  </div>
</footer>

  

</body>

</html>