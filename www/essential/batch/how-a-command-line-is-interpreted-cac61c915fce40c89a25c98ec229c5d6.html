<!doctype html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="referrer" content="always">

  <meta name="twitter:card" value="summary">
  <meta name="twitter:site" content="@kjk">
  <meta name="twitter:title" content="How a command line is interpreted">
  
  <meta name="twitter:description" content="How a command line is interpreted">
  <meta name="twitter:creator" content="@kjk">
  <meta name="twitter:image" content="/essential/batch/covers/twitter/Batch.png">
  
  <meta property="og:title" content="How a command line is interpreted">
  <meta property="og:type" content="article" />
  <meta property="og:url" content="/essential/batch/how-a-command-line-is-interpreted-cac61c915fce40c89a25c98ec229c5d6" />
  
  <meta property="og:description" content="How a command line is interpreted">
  <meta property="og:image" content="/essential/batch/covers/twitter/Batch.png">

  <title>Essential Batch / How a command line is interpreted</title>
  <meta name="description" content="Essential Batch / How a command line is interpreted">

  <link rel="icon" href="s/favicon-9dfe2f70.ico">

  <link href="s/main-e8ec5816.css" rel="stylesheet">
  <link href="s/bundle-83cf4538.css" rel="stylesheet">

  
  <script src="s/app-batch-7c98c53b.js" defer></script>
  <script src="s/bundle-fd6a7ad6.js" defer></script>
</head>

<body class="page">
  <script>
  function onLoad() {
    gBookTitle = "Essential Batch";

    httpsMaybeRedirect();

    let opts = {
      target: document.getElementById("toc"),
      props: {
        parentIdx: -1,
        level: 0,
      },
    };
    new app.toc(opts);

    opts = {
      target: document.getElementById("search-parent"),
      props: {
        bookTitle: gBookTitle,
      },
    };
    new app.searchInput(opts);

    opts = {
      target: document.getElementById("page-toc"),
    };
    new app.pageToc(opts);

    opts = {
      target: document.getElementById("book-toc"),
    };
    new app.bookToc(opts);
  }
  document.addEventListener('DOMContentLoaded', onLoad);
</script>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="arrow-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M11 10H5.344L11 4.414V10z" />
  </symbol>

  <symbol id="arrow-not-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M6 4v8l4-4-4-4zm1 2.414L8.586 8 7 9.586V6.414z" />
  </symbol>

  <symbol id="icon-github" viewbox="0 0 496 512">
    <path
      d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" />
  </symbol>

  <symbol id="icon-home" viewbox="0 0 576 512">
    <path
      d="M488 312.7V456c0 13.3-10.7 24-24 24H348c-6.6 0-12-5.4-12-12V356c0-6.6-5.4-12-12-12h-72c-6.6 0-12 5.4-12 12v112c0 6.6-5.4 12-12 12H112c-13.3 0-24-10.7-24-24V312.7c0-3.6 1.6-7 4.4-9.3l188-154.8c4.4-3.6 10.8-3.6 15.3 0l188 154.8c2.7 2.3 4.3 5.7 4.3 9.3zm83.6-60.9L488 182.9V44.4c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12V117l-89.5-73.7c-17.7-14.6-43.3-14.6-61 0L4.4 251.8c-5.1 4.2-5.8 11.8-1.6 16.9l25.5 31c4.2 5.1 11.8 5.8 16.9 1.6l235.2-193.7c4.4-3.6 10.8-3.6 15.3 0l235.2 193.7c5.1 4.2 12.7 3.5 16.9-1.6l25.5-31c4.2-5.2 3.4-12.7-1.7-16.9z" />
  </symbol>

  <symbol id="icon-twitter" viewbox="0 0 512 512">
    <path
      d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" />
  </symbol>

  <symbol id="icon-edit" viewbox="0 0 576 512">
    <path
      d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z" />
  </symbol>

  <symbol id="icon-star" viewbox="0 0 576 512">
    <path
      d="M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z" />
  </symbol>
</svg>
  <header class="page__header">
  <div class="page__header__left">
    <a id="link-home" href="index.html">
      <svg class="icon-home">
        <use xlink:href="#icon-home"></use>
      </svg>
      &nbsp;Essential Batch</a>
  </div>
  <div class="page__header__center" id="search-parent">
  </div>
  <div class="page__header__right">
  </div>
</header>

  <div id="toc"></div>

  <div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">How a command line is interpreted</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/cac61c915fce40c89a25c98ec229c5d6" rel="nofollow"
  target="_blank">suggest change</a>
</div>


      <p>The parsing of a command line into a sequence of commands is complex, and varies subtly from command interpreter to command interpreter. There are, however, four main components:</p><p><strong>Variable substitution</strong><div class="indented"><p>A command line is scanned for variable specifications, and any found are replaced with the contents of those variables.</p></div></p><p><strong>Quoting</strong><div class="indented"><p>`Special characters can be quoted, to remove their special meanings.</p></div></p><p><strong>Syntax</strong><div class="indented"><p>Command lines are developed into a sequence of commands according to a syntax.</p></div></p><p><strong>Redirection</strong><div class="indented"><p>Redirection specifications are applied, and removed from the command line, before an individual command in a sequence is executed.</p></div></p><h1 id="063020ac-dfe7-4829-8733-3a286cfdc9f5" class=""><strong>Variable substitution</strong><a class="header-anchor" href="#063020ac-dfe7-4829-8733-3a286cfdc9f5" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a></h1><p>Command lines can contain variable specifications. These comprise a <code>%</code> character followed by a name, followed by a second <code>%</code> character unless the name is a digit in 0 ... 9 or an asterisk *.</p><p>Variable specifications are replaced with values as follows:</p><ul id="51da3151-a4a6-41d6-b34c-4156570179e0" class="bulleted-list"><li><code>%%</code>, such as <code>%PATH%</code> or <code>%USERNAME%</code>, is replaced with the value of the named environment variable. For example, <code>%PATH%</code> is replaced by the value of the PATH environment variable.<p>varname</p></li><li><code>%</code> for 0 &lt;= n &lt;= 9, such as <code>%0</code> or <code>%9</code>, is replaced with the value of the n-th parameter passed to the batch file when it was invoked, subject to any subsequent modifications by the <a href="/shift-4053d835d97844b3a5ac7ebe7f72554b">SHIFT</a> command. For example: <code>%2</code> is replaced by the value of the second batch file parameter.<p>n</p></li><li>%* is replaced with the values of all the command-line parameters except for %0, even those beyond index 9. <a href="/shift-4053d835d97844b3a5ac7ebe7f72554b">SHIFT</a> command has no impact on the result of %*. See also <a href="/command-line-arguments-6a6ffadba81b4cc6a979f7e1ee4ea4aa">command-line arguments</a>.</li></ul><h2 id="f87ea6c2-70b4-46f2-ae6e-e81f6323e2ce" class=""><strong>Special names</strong><a class="header-anchor" href="#f87ea6c2-70b4-46f2-ae6e-e81f6323e2ce" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a></h2><p>Some variable names are not visible using <a href="/set-540c344e1358419fb62ff4cc35e604b8">SET</a> command. Rather, they are made available for reading using the <code>%</code> notation. To find out about them, type <code>help set</code>.</p><p>Special variable names and what they expand to:</p><div id="47fe8378-9c03-4543-afba-a2ddde529163" class="collection-content"><h4 class="collection-title"></h4><table class="collection-content"><thead><tr><th width="209">Name</th><th width="496">Replacement Value Used</th></tr></thead><tbody><tr id="678778a1-f7a2-4d5c-af86-f81c50239281"><td class="cell-title col-type-title">%CD%</td><td class="cell-t2[N col-type-text">The current directory, not ending in a slash character if it is not the root directory of the current drive</td></tr>
<tr id="24f25496-a4eb-43a2-ab8a-dbdc349e67c4"><td class="cell-title col-type-title">%TIME%</td><td class="cell-t2[N col-type-text">The system time in HH:MM:SS.mm format.</td></tr>
<tr id="46a6e1c8-5151-4377-889a-0e9f1d8cb6e3"><td class="cell-title col-type-title">%DATE%</td><td class="cell-t2[N col-type-text">The system date in a format specific to localization.</td></tr>
<tr id="3d17d469-eb5f-433e-b683-b0e1b1cfded2"><td class="cell-title col-type-title">%RANDOM%</td><td class="cell-t2[N col-type-text">A generated pseudo-random number between 0 and 32767.</td></tr>
<tr id="0739053d-8fe7-45b9-b11b-18a4706bb289"><td class="cell-title col-type-title">%ERRORLEVEL%</td><td class="cell-t2[N col-type-text">The error level returned by the last executed command, or by the last called batch script.</td></tr>
<tr id="42d826a3-8643-4e33-b96b-0f1f3d45026c"><td class="cell-title col-type-title">%CMDEXTVERSION%</td><td class="cell-t2[N col-type-text">The version number of the Command Processor Extensions currently used by cmd.exe.</td></tr>
<tr id="988332b2-d738-4d28-b2ab-7372e1544083"><td class="cell-title col-type-title">%CMDCMDLINE%</td><td class="cell-t2[N col-type-text">The content of the command line used when the current cmd.exe was started.</td></tr>
</tbody></table></div><p>Links:</p><ul id="46609f94-0a28-41d7-96a7-5001f20afaee" class="bulleted-list"><li><a href="http://ss64.com/nt/syntax-variables.html">Windows Environment Variables at ss64.com</a></li><li><a href="http://technet.microsoft.com/en-us/library/bb490954.aspx">Command shell overview at Microsoft</a></li></ul><h1 id="f63088e4-9c0e-47e8-833a-dabe4af35bc0" class=""><strong>Quoting and escaping</strong><a class="header-anchor" href="#f63088e4-9c0e-47e8-833a-dabe4af35bc0" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a></h1><p>You can prevent the special characters that control command syntax from having their special meanings as follows, except for the percent sign (<code>%</code>):</p><ul id="c121922e-9595-42fd-9baa-510b7842fe2a" class="bulleted-list"><li>You can surround a string containing a special character by quotation marks.</li><li>You can place caret (<code>^</code>), an escape character, immediately before the special characters. In a command located after a pipe (<code>|</code>), you need to use three carets (<code>^^^</code>) for this to work.</li></ul><p>The special characters that need quoting or escaping are usually <code>&lt;</code>, <code>&gt;</code>, <code>|</code>, <code>&amp;</code>, and <code>^</code>. In some circumstances, <code>!</code> and <code>\</code> may need to be escaped. A newline can be escaped using caret as well.</p><p>When you surround the string using quotation marks, they become part of the argument passed to the command invoked. By contrast, when you use caret as an escape character, the caret does not become part of the argument passed.</p><p>The percent sign (<code>%</code>) is a special case. On the command line, it does not need quoting or escaping unless two of them are used to indicate a variable, such as <code>%OS%</code>. But in a batch file, you have to use a double percent sign (<code>%%</code>) to yield a single percent sign (<code>%</code>). Enclosing the percent sign in quotation marks or preceding it with caret does not work.</p><p>Examples</p><ul id="51b96f03-2034-4497-953f-4db32f9ee2dd" class="bulleted-list"><li><code>echo &quot;Johnson &amp; son&quot;</code><p>Echoes the complete string rather than splitting the command line at the &amp; character. Quotes are echoed as well</p></li><li><code>echo Johnson ^&amp; son</code><p>As above, but using caret before the special character ampersand. No quotes are echoed.</p></li><li><code>echo Johnson &amp; son</code><p>Does not use an escape character and therefore, &quot;son&quot; is interpreted as a separate command, usually leading to an error message that command son is not found.</p></li><li><code>echo A ^^ B</code><p>Echoes <code>A ^ B</code>. Caret needs escaping as well or else it is interpreted as escaping a space.</p></li><li><code>echo &gt; NUL | echo A ^^^^ B</code><p>Echoes <code>A ^ B</code>. When after a pipe, a caret used for escaping needs to be tripled to work; the fourth caret is the one being escaped.</p></li><li><code>if 1 equ 1 ^echo Equal &amp;^echo Indeed, equal</code><p>Echoes the two strings. The caret at the end of the line escapes the newlines, leading to the three lines being treated as if they were a single line. The space before the first caret is necessary or else 1 gets joined with the following echo to yield <code>1echo</code>.</p></li><li><code>attrib File^ 1.txt</code><p>Does not show attributes of file named File <code>1.txt</code> since escaping of space does not work. Using quotes, as in <code>attrib &quot;File 1.txt&quot;</code>, works.</p></li><li><code>echo The ratio was 47%.</code><p>If run from a batch, the percent sign is ignored.</p></li><li><code>echo The ratio was 47%%.</code><p>If run from a batch, the percent sign is output once.</p></li><li><code>set /a modulo=14%%3</code><p>If run from a batch, sets modulo variable to 2, the remainder of dividing 14 by 3. Does not work with single <code>%</code>.</p></li><li><code>for %%i in (1,2,3) do echo %%i</code><p>If run from a batch, outputs 1, 2 and 3.</p></li><li><code>echo %temp%</code><p>Outputs the content of temp variable even if run from a batch file. Use of the percent sign in a batch to access environment variables and passed arguments needs no escaping.</p></li><li><code>echo ^%temp^%</code><p>Outputs literally %temp% when run from the command line.</p></li><li><code>echo %%temp%%</code><p>Outputs literally <code>%temp%</code> when run from a batch.</p></li><li><code>echo //comment line | findstr \//</code><ul id="b007f022-27fc-4306-99ff-50a3cc71ef13" class="bulleted-list"><li>Command <a href="/findstr-bf58a8295a724f53ae050c0932e819c9">FINDSTR</a> uses backslash (<code>\</code>) for escaping. Unlike caret, this is internal to the command and unknown to the command shell.</li></ul></li></ul><p>Links:<div class="indented"><ul id="2385cd70-387f-408e-b47e-b6a1de6191c5" class="bulleted-list"><li><a href="http://ss64.com/nt/syntax-esc.html">Syntax : Escape Characters, Delimiters and Quotes</a> at ss64</li><li><a href="http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/ntcmds_shelloverview.mspx">Command shell overview</a> at Microsoft</li><li><a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/set_1">set</a> at Microsoft</li></ul></div></p><h1 id="d7d5296a-8751-44ee-8836-d3abe01cd26a" class=""><strong>Syntax</strong><a class="header-anchor" href="#d7d5296a-8751-44ee-8836-d3abe01cd26a" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a></h1><p>Command lines are developed into a sequence of commands according to a syntax. In that syntax, simple commandsmay be combined to form pipelines, which may in turn be combined to form compound commands, which finally may be turned into parenthesized commands.</p><p>A simple command is just a command name, a command tail, and some redirection specifications. An example of a simple command is <code>dir *.txt &gt; somefile</code>.</p><p>A pipeline is several simple commands joined together with the &quot;pipe&quot; metacharacter — <code>|</code>, also known as the &quot;vertical bar&quot;. The standard output of the simple command preceding each vertical bar is connected to the standard input of the simple command following it, via a pipe. The command interpreter runs all of the simple commands in the pipeline in parallel. An example of a pipeline (comprising two simple commands) is <code>dir *.txt | more</code>.</p><p>A compound command is a set of pipelines separated by conjunctions. The pipelines are executed sequentially, one after the other, and the conjunction controls whether the command interpreter executes the next pipeline or not. An example of a compound command (comprising two pipelines, which themselves are just simple commands) is move <code>file.txt file.bak &amp;&amp; dir &gt; file.txt</code>.</p><p>The conjunctions:</p><ul id="46611c81-de4b-42c6-97b6-bcca2a1a73bb" class="bulleted-list"><li><code><strong>&amp;</strong></code> - An unconditional conjunction. The next pipeline is always executed after the current one has completed executing.</li><li><code><strong>&amp;&amp;</strong></code> - A positive conditional conjunction. The next pipeline is executed if the current one completes executing with a zero exit status.</li><li><code><strong>||</strong></code> - A negative conditional conjunction. The next pipeline is executed if the current one completes executing with a non-zero exit status.</li></ul><p>A parenthesized command is a compound command enclosed in parentheses (i.e. ( and )). From the point of view of syntax, this turns a compound command into a simple command, whose overall output can be redirected.</p><p>For example: The command line <code>( pushd temp &amp; dir &amp; popd ) &gt; somefile.txt</code> causes the standard output of the entire compound command <code>( pushd temp &amp; dir &amp; popd )</code> to be redirected to <code>somefile.txt</code>.</p><p>Links:</p><ul id="a46a4b46-17e3-498c-a12a-85e0c7c24ab8" class="bulleted-list"><li><a href="http://ss64.com/nt/syntax-conditional.html">Conditional Execution at ss64.com</a></li><li><a href="http://ss64.com/nt/syntax-brackets.html">Using parenthesis/brackets to group expressions at ss64.com</a></li><li><a href="http://technet.microsoft.com/en-us/library/bb490954.aspx">Command shell overview at Microsoft</a></li></ul><h1 id="307ff269-9551-494d-9b25-60f707505244" class=""><strong>Redirection</strong><a class="header-anchor" href="#307ff269-9551-494d-9b25-60f707505244" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a></h1><p>Redirection specifications are applied, and removed from the command line, before an individual command in a sequence is executed. Redirection specifications control where the standard input, standard output, and standard error file handles for a simple command point. They override any effects to those file handles that may have resulted from pipelining. (See the preceding section on command syntax.) Redirection signs <code>&gt;</code> and <code>&gt;&gt;</code> can be prefixed with 1 for the standard output (same as no prefix) or 2 for the standard error.</p><p>The redirection specifications are:</p><p><strong>&lt; filename </strong>Redirect standard input to read from the named file.</p><p><strong>&gt; filename </strong>Redirect standard output to write to the named file, overwriting its previous contents.</p><p><strong>&gt;&gt; filename </strong>Redirect standard output to write to the named file, appending to the end of its previous contents.</p><p><strong>&gt;&amp;h </strong>Redirect to handle h, where handle is any of 0—standard input, 1—standard output, 2—standard error, and more.</p><p><strong>&lt;&amp;h </strong>Redirect from handle h.</p><p>Examples:</p><ul id="b33896c0-3e7c-4b5d-ba25-cfb23292a38c" class="bulleted-list"><li><code>dir *.txt &gt;listing.log</code><p>Redirects the output of the <code>dir</code> command to listing.log file.</p></li><li><code>dir *.txt &gt; listing.log</code><p>As above; the space before the file name makes no difference. However, if you type this into the command window, auto-completion with tab after typing <code>&gt; l</code> actually works, while it does not work with <code>&gt;listing.log</code>.</p></li><li><code>dir *.txt 2&gt;NUL</code><p>Redirects errors of the <code>dir</code> command to nowhere.</p></li><li><code>dir *.txt &gt;&gt;listing.log</code><p>Redirects the output of the <code>dir</code> command to listing.log file, appending to the file. Thereby, the content of the file before the redirected command was executed does not get lost.</p></li><li><code>dir *.txt &gt;listing.log 2&gt;&amp;1</code><p>Redirects the output of the <code>dir</code> command to listing.log file, along with the error messages.</p></li><li><code>dir *.txt &gt;listing.log 2&gt;listing-errors.log</code><p>Redirects the output of the <code>dir</code> command to listing.log file, and the error messages to listing-errors.log file.</p></li><li><code>&gt;myfile.txt echo Hello</code><p>The redirection can precede the command.</p></li><li><code>echo Hello &amp; echo World &gt;myfile.txt</code><p>Only the 2nd <code>echo</code> gets redirected.</p></li><li><code>(echo Hello &amp; echo World) &gt;myfile.txt</code><p>Output of both echos gets redirected.</p></li><li><code>type con &gt;myfile.txt</code><p>Redirects console input (con) to the file. Thus, allows multi-line user input terminated by user pressing Control + Z. See also <a href="/user-input-5726d65b176c49ebb21d2daa271031f9">user input</a>.</p></li><li><code>(for %i in (1,2,3) do @echo %i) &gt; myfile.txt</code><p>Redirects the entire output of the loop to the file.</p></li><li><code>for %i in (1,2,3) do @echo %i &gt; myfile.txt</code><p>Starts redirection anew each time the body of the loop is entered, losing the output of all but the latest loop iteration.</p></li></ul><p>Links:</p><ul id="0601a846-653c-47e3-9ba5-cdef68415af9" class="bulleted-list"><li><a href="http://ss64.com/nt/syntax-redirection.html">Redirection at ss64.com</a></li><li><a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-xp/bb490982%28v%3dtechnet.10%29">Using command redirection operators at Microsoft</a></li></ul>

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    <div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly />
  </p>

  <p>
    <div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email" />
    <input type="text" name="_honey" style="display:none">
  </p>

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>

  <p>
    <div data-netlify-recaptcha></div>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"></div>

    <div id="chapter-toc-wrapper">
      <hr />
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"></div>
    </div>
  </div>

  <footer class="page__footer">
  <div class="page__footer__left">
    Maintained by
    <a href="https://blog.kowalczyk.info" target="_blank">Krzysztof Kowalczyk</a>
  </div>
  <div class="share-me">
    <a href="https://twitter.com/intent/tweet?text=%22Essential%20Batch%22%20-%20a%20free%20programming%20book&url=%2fessential%2fbatch%2f&via=kjk">Share
      <b>Essential Batch</b> on&nbsp;
      <svg class="icon-twitter">
        <use xlink:href="#icon-twitter"></use>
      </svg>
    </a>
  </div>
  <div class="page__footer__right">
    
  </div>
</footer>

  

</body>

</html>