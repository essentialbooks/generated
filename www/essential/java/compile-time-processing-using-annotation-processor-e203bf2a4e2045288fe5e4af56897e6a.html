<!doctype html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="referrer" content="always">

  <meta name="twitter:card" value="summary">
  <meta name="twitter:site" content="@kjk">
  <meta name="twitter:title" content="Compile time processing using annotation processor">
  
  <meta name="twitter:description" content="Compile time processing using annotation processor">
  <meta name="twitter:creator" content="@kjk">
  <meta name="twitter:image" content="https://www.programming-books.io/covers/twitter/Java.png">
  
  <meta property="og:title" content="Compile time processing using annotation processor">
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://www.programming-books.io/essential/java/compile-time-processing-using-annotation-processor-e203bf2a4e2045288fe5e4af56897e6a" />
  
  <meta property="og:description" content="Compile time processing using annotation processor">
  <meta property="og:image" content="https://www.programming-books.io/covers/twitter/Java.png">

  <title>Annotations / Compile time processing using annotation processor / Essential Java</title>
  <meta name="description" content="Annotations / Compile time processing using annotation processor / Essential Java">
  <link rel="icon" href="/s/favicon.ico">
  <link href="/s/main.css" rel="stylesheet">
  <link href="/s/bundle.css" rel="stylesheet">
  <script src="/s/app-java.js" defer></script>
  <script src="/s/bundle.js" defer></script>
</head>

<body class="page">
  <script>
  function onLoad() {
    gBookTitle = "Essential Java";

    httpsMaybeRedirect();

    let opts = {
      target: document.getElementById("toc"),
      props: {
        parentIdx: -1,
        level: 0,
      },
    };
    new app.toc(opts);

    opts = {
      target: document.getElementById("search-parent"),
      props: {
        bookTitle: gBookTitle,
      },
    };
    new app.searchInput(opts);

    opts = {
      target: document.getElementById("page-toc"),
    };
    new app.pageToc(opts);

    opts = {
      target: document.getElementById("book-toc"),
    };
    new app.bookToc(opts);
  }
  document.addEventListener('DOMContentLoaded', onLoad);
</script>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="arrow-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M11 10H5.344L11 4.414V10z" />
  </symbol>

  <symbol id="arrow-not-expanded" viewbox="0 0 16 16">
    <path fill="%23646465" d="M6 4v8l4-4-4-4zm1 2.414L8.586 8 7 9.586V6.414z" />
  </symbol>

  <symbol id="icon-github" viewbox="0 0 496 512">
    <path
      d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" />
  </symbol>

  <symbol id="icon-home" viewbox="0 0 576 512">
    <path
      d="M488 312.7V456c0 13.3-10.7 24-24 24H348c-6.6 0-12-5.4-12-12V356c0-6.6-5.4-12-12-12h-72c-6.6 0-12 5.4-12 12v112c0 6.6-5.4 12-12 12H112c-13.3 0-24-10.7-24-24V312.7c0-3.6 1.6-7 4.4-9.3l188-154.8c4.4-3.6 10.8-3.6 15.3 0l188 154.8c2.7 2.3 4.3 5.7 4.3 9.3zm83.6-60.9L488 182.9V44.4c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12V117l-89.5-73.7c-17.7-14.6-43.3-14.6-61 0L4.4 251.8c-5.1 4.2-5.8 11.8-1.6 16.9l25.5 31c4.2 5.1 11.8 5.8 16.9 1.6l235.2-193.7c4.4-3.6 10.8-3.6 15.3 0l235.2 193.7c5.1 4.2 12.7 3.5 16.9-1.6l25.5-31c4.2-5.2 3.4-12.7-1.7-16.9z" />
  </symbol>

  <symbol id="icon-twitter" viewbox="0 0 512 512">
    <path
      d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" />
  </symbol>

  <symbol id="icon-edit" viewbox="0 0 576 512">
    <path
      d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z" />
  </symbol>

  <symbol id="icon-star" viewbox="0 0 576 512">
    <path
      d="M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z" />
  </symbol>
</svg>
  <header class="page__header">
  <div class="page__header__left">
    <a id="link-home" href="index.html">
      <svg class="icon-home">
        <use xlink:href="#icon-home"></use>
      </svg>
      &nbsp;Essential Java</a>
  </div>
  <div class="page__header__center" id="search-parent">
  </div>
  <div class="page__header__right">
  </div>
</header>

  <div id="toc"></div>

  <div class="content">
    <div class="article">
      

<div style="display: flex; justify-content: space-between">
  <h1 class="title">Compile time processing using annotation processor</h1>
  <a class="edit-link" style="font-size: 80%" href="https://notion.so/e203bf2a4e2045288fe5e4af56897e6a" rel="nofollow"
  target="_blank">suggest change</a>
</div>


      
<p>This example demonstrates how to do compile time checking of an annotated element.
</p>
  <h1 id="e7949800-e5cf-421d-b396-0d5b57f78350" class="">The annotation
  <a class="header-anchor" href="#e7949800-e5cf-421d-b396-0d5b57f78350" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>
<p>The <code>@Setter</code> annotation is a marker can be applied to methods. The annotation will be discarded during compilation not be available afterwards.
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma"><span class="kn">package</span> <span class="nx">annotation</span><span class="p">;</span>

<span class="kn">import</span> <span class="nx">java</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">ElementType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">java</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">Retention</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">java</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">RetentionPolicy</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">java</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">Target</span><span class="p">;</span>

<span class="err">@</span><span class="nf">Retention</span><span class="p">(</span><span class="nx">RetentionPolicy</span><span class="p">.</span><span class="nx">SOURCE</span><span class="p">)</span>
<span class="err">@</span><span class="nf">Target</span><span class="p">(</span><span class="nx">ElementType</span><span class="p">.</span><span class="nx">METHOD</span><span class="p">)</span>
<span class="nx">public</span> <span class="err">@</span><span class="kd">interface</span> <span class="nx">Setter</span> <span class="p">{</span>
<span class="p">}</span></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
  <h1 id="accdf8d6-10f7-4be5-adee-553bb1a59dfb" class="">The annotation processor
  <a class="header-anchor" href="#accdf8d6-10f7-4be5-adee-553bb1a59dfb" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>
<p>The <code>SetterProcessor</code> class is used by the compiler to process the annotations. It checks, if the methods annotated with the <code>@Setter</code> annotation are <code>public</code>, non-<code>static</code> methods with a name starting with <code>set</code> and having a uppercase letter as 4th letter. If one of these conditions isn’t met, a error is written to the <code>Messager</code>. The compiler writes this to stderr, but other tools could use this information differently. E.g. the NetBeans IDE allows the user specify annotation processors that are used to display error messages in the editor.
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma"><span class="kn">package</span> <span class="nx">annotation</span><span class="p">.</span><span class="nx">processor</span><span class="p">;</span>

<span class="kn">import</span> <span class="nx">annotation</span><span class="p">.</span><span class="nx">Setter</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">java</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">Set</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">processing</span><span class="p">.</span><span class="nx">AbstractProcessor</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">processing</span><span class="p">.</span><span class="nx">Messager</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">processing</span><span class="p">.</span><span class="nx">ProcessingEnvironment</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">processing</span><span class="p">.</span><span class="nx">RoundEnvironment</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">processing</span><span class="p">.</span><span class="nx">SupportedAnnotationTypes</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">processing</span><span class="p">.</span><span class="nx">SupportedSourceVersion</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">SourceVersion</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">Element</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">ElementKind</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">ExecutableElement</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">Modifier</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">lang</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">TypeElement</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">javax</span><span class="p">.</span><span class="nx">tools</span><span class="p">.</span><span class="nx">Diagnostic</span><span class="p">;</span>

<span class="err">@</span><span class="nf">SupportedAnnotationTypes</span><span class="p">({</span><span class="s">&#34;annotation.Setter&#34;</span><span class="p">})</span>
<span class="err">@</span><span class="nf">SupportedSourceVersion</span><span class="p">(</span><span class="nx">SourceVersion</span><span class="p">.</span><span class="nx">RELEASE_8</span><span class="p">)</span>
<span class="nx">public</span> <span class="nx">class</span> <span class="nx">SetterProcessor</span> <span class="nx">extends</span> <span class="nx">AbstractProcessor</span> <span class="p">{</span>

    <span class="nx">private</span> <span class="nx">Messager</span> <span class="nx">messager</span><span class="p">;</span>

    <span class="err">@</span><span class="nx">Override</span>
    <span class="nx">public</span> <span class="nx">boolean</span> <span class="nf">process</span><span class="p">(</span><span class="nx">Set</span><span class="p">&lt;</span><span class="err">?</span> <span class="nx">extends</span> <span class="nx">TypeElement</span><span class="p">&gt;</span> <span class="nx">annotations</span><span class="p">,</span> <span class="nx">RoundEnvironment</span> <span class="nx">roundEnv</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// get elements annotated with the @Setter annotation
</span><span class="c1"></span>        <span class="nx">Set</span><span class="p">&lt;</span><span class="err">?</span> <span class="nx">extends</span> <span class="nx">Element</span><span class="p">&gt;</span> <span class="nx">annotatedElements</span> <span class="p">=</span> <span class="nx">roundEnv</span><span class="p">.</span><span class="nf">getElementsAnnotatedWith</span><span class="p">(</span><span class="nx">Setter</span><span class="p">.</span><span class="nx">class</span><span class="p">);</span>

        <span class="k">for</span> <span class="p">(</span><span class="nx">Element</span> <span class="nx">element</span> <span class="p">:</span> <span class="nx">annotatedElements</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nf">getKind</span><span class="p">()</span> <span class="o">==</span> <span class="nx">ElementKind</span><span class="p">.</span><span class="nx">METHOD</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// only handle methods as targets
</span><span class="c1"></span>                <span class="nf">checkMethod</span><span class="p">((</span><span class="nx">ExecutableElement</span><span class="p">)</span> <span class="nx">element</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// don&#39;t claim annotations to allow other processors to process them
</span><span class="c1"></span>        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">private</span> <span class="nx">void</span> <span class="nf">checkMethod</span><span class="p">(</span><span class="nx">ExecutableElement</span> <span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// check for valid name
</span><span class="c1"></span>        <span class="nx">String</span> <span class="nx">name</span> <span class="p">=</span> <span class="nx">method</span><span class="p">.</span><span class="nf">getSimpleName</span><span class="p">().</span><span class="nf">toString</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(!</span><span class="nx">name</span><span class="p">.</span><span class="nf">startsWith</span><span class="p">(</span><span class="s">&#34;set&#34;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nf">printError</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="s">&#34;setter name must start with \&#34;set\&#34;&#34;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nf">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">printError</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="s">&#34;the method name must contain more than just \&#34;set\&#34;&#34;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">Character</span><span class="p">.</span><span class="nf">isLowerCase</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nf">charAt</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">method</span><span class="p">.</span><span class="nf">getParameters</span><span class="p">().</span><span class="nf">size</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="nf">printError</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="s">&#34;character following \&#34;set\&#34; must be upper case&#34;</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// check, if setter is public
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(!</span><span class="nx">method</span><span class="p">.</span><span class="nf">getModifiers</span><span class="p">().</span><span class="nf">contains</span><span class="p">(</span><span class="nx">Modifier</span><span class="p">.</span><span class="nx">PUBLIC</span><span class="p">))</span> <span class="p">{</span>
            <span class="nf">printError</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="s">&#34;setter must be public&#34;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// check, if method is static
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="nx">method</span><span class="p">.</span><span class="nf">getModifiers</span><span class="p">().</span><span class="nf">contains</span><span class="p">(</span><span class="nx">Modifier</span><span class="p">.</span><span class="nx">STATIC</span><span class="p">))</span> <span class="p">{</span>
            <span class="nf">printError</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="s">&#34;setter must not be static&#34;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">private</span> <span class="nx">void</span> <span class="nf">printError</span><span class="p">(</span><span class="nx">Element</span> <span class="nx">element</span><span class="p">,</span> <span class="nx">String</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">messager</span><span class="p">.</span><span class="nf">printMessage</span><span class="p">(</span><span class="nx">Diagnostic</span><span class="p">.</span><span class="nx">Kind</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">element</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="err">@</span><span class="nx">Override</span>
    <span class="nx">public</span> <span class="nx">void</span> <span class="nf">init</span><span class="p">(</span><span class="nx">ProcessingEnvironment</span> <span class="nx">processingEnvironment</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">super</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="nx">processingEnvironment</span><span class="p">);</span>

        <span class="c1">// get messager for printing errors
</span><span class="c1"></span>        <span class="nx">messager</span> <span class="p">=</span> <span class="nx">processingEnvironment</span><span class="p">.</span><span class="nf">getMessager</span><span class="p">();</span>
    <span class="p">}</span>

<span class="p">}</span></pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
  <h1 id="1a12d566-67c2-460d-a796-58e97bf2c5ce" class="">Packaging
  <a class="header-anchor" href="#1a12d566-67c2-460d-a796-58e97bf2c5ce" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>
<p>To be applied by the compiler, the annotation processor needs to be made available to the SPI (see <a href="http://stackoverflow.com/documentation/java/5433/serviceloader#t=201608231754351162351">ServiceLoader</a>).
</p>
<p>To do this a text file <code>META-INF/services/javax.annotation.processing.Processor</code> needs to be added to the jar file containing the annotation processor and the annotation in addition to the other files. The file needs to include the fully qualified name of the annotation processor, i.e. it should look like this
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">annotation.processor.SetterProcessor</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p><strong>We’ll assume the jar file is called </strong><code><strong>AnnotationProcessor.jar</strong></code><strong> below.</strong>
</p>
  <h1 id="c7ec54b5-26db-4ccb-bd56-cd492d04c0fd" class="">Example annotated class
  <a class="header-anchor" href="#c7ec54b5-26db-4ccb-bd56-cd492d04c0fd" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>
<p>The following class is example class in the default package with the annotations being applied to the correct elements according to the retention policy. However only the annotation processor only considers the second method a valid annotation target.
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">import annotation.Setter;

public class AnnotationProcessorTest {
    
    @Setter
    private void setValue(String value) {}

    @Setter
    public void setString(String value) {}
    
    @Setter
    public static void main(String[] args) {}
    
}</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
  <h1 id="94d0134b-12f5-4fd8-ba37-080787549d84" class="">Using the annotation processor with javac
  <a class="header-anchor" href="#94d0134b-12f5-4fd8-ba37-080787549d84" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>
<p>If the annotation processor is discovered using the SPI, it is automatically used to process annotated elements. E.g. compiling the <code>AnnotationProcessorTest</code> class using
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">javac -cp AnnotationProcessor.jar AnnotationProcessorTest.java</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>yields the following output
</p>

<div class="code-box lang-Plain Text">
	<div>
	<pre class="chroma">AnnotationProcessorTest.java:6: error: setter must be public
    private void setValue(String value) {}
                 ^
AnnotationProcessorTest.java:12: error: setter name must start with &#34;set&#34;
    public static void main(String[] args) {}
                       ^
2 errors</pre>
	</div>
	<div class="code-box-nav">
		
	</div>
</div>
<p>instead of compiling normally. No <code>.class</code> file is created.
</p>
<p>This could be prevented by specifying the <code>-proc:none</code> option for <code>javac</code>. You could also forgo the usual compilation by specifying <code>-proc:only</code> instead.
</p>
  <h1 id="d0bc4850-9fdd-4ecc-9b6e-e54b1bdb0e76" class="">IDE integration
  <a class="header-anchor" href="#d0bc4850-9fdd-4ecc-9b6e-e54b1bdb0e76" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h1>
  <h2 id="f8186b9e-f266-41ac-bcc2-efbabd442969" class="">Netbeans
  <a class="header-anchor" href="#f8186b9e-f266-41ac-bcc2-efbabd442969" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h2>
<p>Annotation processors can be used in the NetBeans editor. To do this the annotation processor needs to be specified in the project settings:
</p>
  <ol id="afae476e-525e-4124-ab9a-4f4196ecac9d" class="numbered-list" start="1">
    <li>go to <code>Project Properties</code> &gt; <code>Build</code> &gt; <code>Compiling</code>
    </li>
    <li>add check marks for <code>Enable Annotation Processing</code> and <code>Enable Annotation Processing in Editor</code>
    </li>
    <li>click <code>Add</code> next to the annotation processor list
    </li>
    <li>in the popup that appears enter the fully qualified class name of the annotation processor and click <code>Ok</code>.
    </li>
  </ol>
  <h2 id="77e2722c-cec0-4a68-ad08-51026b8d8815" class="">Result
  <a class="header-anchor" href="#77e2722c-cec0-4a68-ad08-51026b8d8815" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"></path></svg></a>
  </h2>
<img class="img" src="/essential/java/img/d8fd9ab55794a85cc5a78568380db80ab900909c.png">

      <div class="forum-link">
  Found a mistake? Have a question or improvement idea?
  <a href="#" onclick="showContact(); return false;">Let me know</a>.
</div>

      <form id="contact-form" action="https://formsubmit.co/kkowalczyk@gmail.com" method="POST">
  <p>
    <div class="contact-light">Feedback about page:</div>
    <input type="text" name="page-url" id="contact-page-url" readonly />
  </p>

  <p>
    <div class="contact-light">Feedback:</div>
    <textarea name="message" id="msg-for-chris"></textarea>
    <div class="contact-light">Optional: your email if you want me to get back to you: </div>
    <input type="email" name="email" />
    <input type="text" name="_honey" style="display:none">
  </p>

  <p>
    <button type="submit" class="contact-btn">
      Send Feedback
    </button>

    <button class="contact-btn" style="float: right;" onclick="hideContact(); return false;">
      Cancel
    </button>
  </p>

  <p>
    <div data-netlify-recaptcha></div>
  </p>
</form>


      <hr class="article-bottom-sep">
    </div>

    <div id="page-toc"></div>

    <div id="chapter-toc-wrapper">
      <hr />
      <div class="hdr">Table Of Contents</div>
      <div id="book-toc"></div>
    </div>
  </div>

  <footer class="page__footer">
  <div class="page__footer__left">
    Maintained by
    <a href="https://blog.kowalczyk.info" target="_blank">Krzysztof Kowalczyk</a>
  </div>
  <div class="share-me">
    <a href="https://twitter.com/intent/tweet?text=%22Essential%20Java%22%20-%20a%20free%20programming%20book&url=https%3a%2f%2fwww.programming-books.io%2fessential%2fjava%2f&via=kjk">Share
      <b>Essential Java</b> on&nbsp;
      <svg class="icon-twitter">
        <use xlink:href="#icon-twitter"></use>
      </svg>
    </a>
  </div>
  <div class="page__footer__right">
    
  </div>
</footer>

  

</body>

</html>